"use strict";(self.webpackChunktradersarena=self.webpackChunktradersarena||[]).push([[828],{31828:function(t,e,a){a.r(e);var n=a(15861),r=a(15671),s=a(43144),c=a(60136),i=a(43668),o=a(64687),l=a.n(o),h=a(47313),d=a(60489),u=a(32356),f=a(31440),g=a(27019),m=a(90182),p=a(1084),v=a(76520),D=a(94925),x=a(58645),y=a.n(x),k=a(63830),b=a(46417),w=function(t){(0,c.Z)(a,t);var e=(0,i.Z)(a);function a(){var t;return(0,r.Z)(this,a),(t=e.call(this)).enterFullScreen=function(){t.state.chart.fullScreen(!0)},t.state={loading:!0,chart:y().treeMap([]),fullScreenMode:!1},t.chartSettings(),t.chartLegend(),t.chartHeader(),t.chartLabels(),t.chartTooltip(),t}return(0,s.Z)(a,[{key:"fetchData",value:function(){var t=this,e=this.props.config.needs.chartAndtables;e=e.find((function(t){return"treemap"===t.key})),(0,v.O)(e.feeder_url).then(function(){var e=(0,n.Z)(l().mark((function e(a){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=y().data.tree(a.data.data,"as-table"),t.state.chart.data(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!1}),this.fetchData();var e=this.props.config.needs.chartAndtables;e=e.find((function(t){return"treemap"===t.key})),this.interval=setInterval((function(){return t.fetchData()}),1e3*e.refresh_time)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"chartSettings",value:function(){return this.state.chart.maxDepth(2).selectionMode("none"),this.state.chart.credits().enabled(!1),this.state.chart.headersDisplayMode("always-show"),this.state.chart.normal().stroke("#333333",2),Promise.resolve()}},{key:"chartLegend",value:function(){return this.state.chart.legend().enabled(!1).padding([0,0,0,20]).position("right").align("top").itemsLayout("vertical"),Promise.resolve()}},{key:"chartHeader",value:function(){return this.state.chart.headers().background("#333333").fontColor("#fff").fontFamily("Iran-sans").padding(5).format((function(){return this.getData("name")})),Promise.resolve()}},{key:"chartLabels",value:function(){return this.state.chart.labels().fontFamily("Iran-sans").useHtml(!0).fontColor("#fff").fontSize(12).textOverflow("").format((function(){return this.oc.kg.Ai.treemap_pointBounds.width>30?"".concat(this.getData("name"),"<br/>").concat(this.getData("displayValue")):""})),Promise.resolve()}},{key:"chartTooltip",value:function(){return this.state.chart.tooltip().fontFamily("Irans-sans").useHtml(!0).titleFormat((function(){return"<span>".concat(this.getData("name"),"</span>")})).format((function(){return'<table class="w-full font-persian treeamp-tooltip-table">\n          <tbody>\n          <tr>\n              <td>'.concat(this.getData("displayValue")?"\u062f\u0631\u0635\u062f \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a":"",'</td>\n              <td class="text-left" dir="ltr">').concat(this.getData("displayValue")||"","</td>\n            </tr>\n            <tr>\n              <td>").concat(this.getData("realName")?"\u0646\u0627\u0645 \u0648\u0627\u0642\u0639\u06cc":"",'</td>\n              <td class="text-left">').concat(this.getData("realName")||"","</td>\n            </tr>\n            <tr>\n            <td>").concat(this.getData("endPrice")?"\u0642\u06cc\u0645\u062a \u0646\u0647\u0627\u06cc\u06cc":"",'</td>\n            <td class="text-left">').concat(this.getData("endPrice")||"","</td>\n          </tr>\n            <tr>\n            <td>").concat(this.getData("lastDeal")?"\u0622\u062e\u0631\u06cc\u0646 \u0645\u0639\u0627\u0645\u0644\u0647":"",'</td>\n            <td class="text-left">').concat(this.getData("lastDeal")||"","</td>\n          </tr>\n          <tr>\n          <td>").concat(this.getData("count")?"\u062a\u0639\u062f\u0627\u062f":"",'</td>\n          <td class="text-left">').concat(this.getData("count")||"","</td>\n        </tr>\n        <tr>\n          <td>").concat(this.getData("volume")?"\u062d\u062c\u0645":"",'</td>\n          <td class="text-left">').concat(this.getData("volume")||"","</td>\n        </tr>\n        <tr>\n          <td>").concat(this.getData("value")?"\u0627\u0631\u0632\u0634":"",'</td>\n          <td class="text-left">').concat(this.getData("value")||"","</td>\n        </tr>\n        <tr>\n          <td>").concat(this.getData("time")?"\u0632\u0645\u0627\u0646":"",'</td>\n          <td class="text-left">').concat(this.getData("time")||"","</td>\n        </tr>\n          </tbody>\n        </table>")})),Promise.resolve()}},{key:"render",value:function(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.q,{children:(0,b.jsx)("title",{children:"\u0646\u0642\u0634\u0647 \u0628\u0627\u0632\u0627\u0631"})}),this.state.loading?(0,b.jsx)(d.X,{children:(0,b.jsx)(u.M,{style:{height:"800px"},children:(0,b.jsx)(f.a,{variant:"dots",color:"blue"})})}):(0,b.jsxs)(d.X,{children:[(0,b.jsx)(g.z,{ml:"sm",mt:"sm",size:"xs",color:"blue",onClick:this.enterFullScreen,children:"\u062a\u0645\u0627\u0645 \u0635\u0641\u062d\u0647"}),(0,b.jsx)(D.Z,{contextMenu:!1,height:"".concat(window.outerHeight,"px"),resizing_mode:"Recalculate",instance:this.state.chart,title:""})]})]})}}]),a}(h.PureComponent);e.default=(0,k.EN)((0,p.$j)((function(t){return{config:t.config}}))(w))}}]);